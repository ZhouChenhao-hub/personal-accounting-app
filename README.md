## 📖 项目起因

我一直在寻找一款简单好用的记账软件，但市面上的产品要么功能繁琐、要么界面不够简洁，更重要的是大多数都无法实现多设备间的无缝同步。

因此，我决定自己动手开发一款真正符合个人需求的记账工具。我的目标很明确：**简约**、**多设备同步**、**安装使用简单**。

经过反复思考和打磨，这个个人记账 PWA 应用应运而生。它不仅满足了我自己的记账需求，也希望能帮助到有类似需求的朋友。

由于是个人项目，安全性方面可能还有提升空间，欢迎大家提出宝贵建议。如果你有其他需求，也可以在 issue 中反馈，我会认真考虑实现。

---

# 个人记账本 PWA 应用

一个简洁高效的个人财务管理系统，支持离线使用和多设备同步。

## ✨ 特性

- 🏠 **PWA 应用**：支持离线使用，可安装到桌面/手机
- 📱 **响应式设计**：完美适配手机、平板、桌面设备
- 💰 **多账户管理**：支持多个账户（银行卡、现金、支付宝等）
- 📊 **数据可视化**：直观的图表展示收支情况
- 🔍 **智能搜索**：按日期、分类、金额等多维度搜索
- 📈 **统计分析**：收支趋势、分类统计、月度对比
- 🔐 **安全认证**：内置登录系统保护隐私数据
- 💾 **数据持久化**：SQLite 数据库存储，数据安全可靠

## 📱 界面预览

### 主要功能
- **仪表盘**：总览财务状况、收支统计
- **交易记录**：添加、编辑、删除交易记录
- **账户管理**：管理多个账户和余额
- **统计分析**：可视化图表展示财务趋势
- **搜索过滤**：快速找到特定交易记录

## 🛠️ 技术栈

- **后端**：PHP 7.4+
- **数据库**：SQLite
- **前端**：Bootstrap 5 + Chart.js
- **PWA**：Service Worker + Web App Manifest
- **服务器**：Apache/Nginx

## 🚀 快速开始

### 环境要求

- PHP 7.4 或更高版本
- SQLite 扩展
- Web 服务器（Apache/Nginx）

### 安装步骤

1. **克隆项目**
```bash
git clone https://github.com/ZhouChenhao-hub/personal-accounting-app.git
cd personal-accounting-app
```

2. **配置 Web 服务器**
   - 将项目文件放置在 Web 服务器目录中
   - 确保 Web 服务器对项目目录有读写权限

3. **设置数据库**
   - 项目会自动创建 SQLite 数据库文件 `accounting.db`
   - 确保目录有写权限以创建数据库文件

4. **访问应用**
   - 在浏览器中打开应用地址
   - 使用默认账号登录：用户名 `admin`，密码 `password`

5. **安装 PWA 应用**（可选）
   安装后可以像原生应用一样使用：
   
   **Android Chrome：**
   - 打开应用后，点击地址栏右侧的"添加到主屏幕"图标
   - 或点击浏览器菜单中的"安装应用"选项
   
   **iOS Safari：**
   - 点击底部分享按钮 📤
   - 选择"添加到主屏幕"
   - 点击"添加"确认安装
   
   **桌面端（Chrome/Edge）：**
   - 地址栏右侧会出现安装图标 ⬇️
   - 点击安装图标或浏览器菜单中的"安装应用"
   - 确认安装后即可在桌面使用

### 配置说明

**修改登录信息**（推荐）：
在 `index.php` 文件中修改以下常量：
```php
define('LOGIN_USERNAME', 'your_username');
define('LOGIN_PASSWORD', 'your_password');
```

## 📖 使用说明

### 1. 登录系统
- 首次访问需要登录
- 登录后会话将保持，直到主动退出

### 2. 账户管理
- 添加不同类型的账户（银行卡、现金等）
- 查看各账户余额
- 支持账户余额调整

### 3. 交易记录
- **添加交易**：选择账户、金额、类型（收入/支出）、分类
- **编辑交易**：修改已有交易记录
- **删除交易**：移除不需要的交易记录

### 4. 数据统计
- **收支趋势**：查看月度收支变化
- **分类统计**：按分类查看支出分布
- **总览数据**：总资产、月度收支汇总

### 5. 搜索功能
- 按关键词搜索交易描述
- 按日期范围筛选
- 按账户、分类筛选

## 📁 项目结构

```
personal-accounting-app/
├── index.php           # 主应用文件
├── data.php           # 数据库操作类
├── manifest.json      # PWA 配置文件
├── sw.js             # Service Worker
├── accounting.db     # SQLite 数据库文件
├── assets/
│   ├── css/
│   │   └── bootstrap.min.css
│   └── js/
│       ├── bootstrap.bundle.min.js
│       └── chart.min.js
├── icon-192.png      # 应用图标
├── icon-512.png      # 应用图标
└── README.md         # 项目说明
```

## 💡 核心功能

### 数据库模型
- **accounts**：账户表（账户名、类型、余额）
- **transactions**：交易表（金额、类型、分类、描述、日期）

### PWA 特性
- **离线使用**：缓存静态资源，支持离线访问
- **可安装**：支持添加到主屏幕
- **快捷方式**：快速添加交易、查看统计

### 安全特性
- 会话管理
- 数据验证
- SQL 注入防护
- XSS 防护

## 🔧 自定义配置

### 修改分类系统
在 `data.php` 中的 `getCategories()` 方法中修改收入和支出分类。

### 调整界面样式
修改 Bootstrap 样式或添加自定义 CSS 文件。

### 扩展功能
- 添加新的统计维度
- 集成第三方支付 API
- 添加数据导出功能

## 🐛 常见问题

**Q: 数据库无法创建？**
A: 检查目录权限，确保 Web 服务器有写权限。

**Q: 无法登录？**
A: 检查用户名密码是否正确，确认 PHP 会话功能正常。

**Q: PWA 功能不工作？**
A: 确保通过 HTTPS 访问，或在本地开发时使用 localhost。

## 📝 更新日志

### v1.0.1
- 修复移动端显示问题
- 优化数据加载性能
- 增加数据验证

### v1.0.0
- 初始版本发布
- 基础记账功能
- PWA 支持

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 👨‍💻 作者

**Chen Hao**
- GitHub: [@ZhouChenhao-hub](https://github.com/ZhouChenhao-hub)

## 🙏 致谢

- [Bootstrap](https://getbootstrap.com/) - 响应式前端框架
- [Chart.js](https://www.chartjs.org/) - 数据可视化图表库
- [SQLite](https://www.sqlite.org/) - 轻量级数据库引擎

---

⭐ 如果这个项目对您有帮助，请给它一个 Star！ 